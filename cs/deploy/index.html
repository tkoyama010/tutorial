
<!DOCTYPE HTML>
<html lang="cs" >
    <head>
        <meta charset="UTF-8">
        <title>Nasazení! · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.5">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sidebar-ad/sidebar-ad.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codeblock-label/block.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sectionx-ex/sectionx.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../django_urls/" />
    
    
    <link rel="prev" href="../django_admin/" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
  
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Vyhledat" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://gitter.im/DjangoGirls/tutorial" target="_blank" class="custom-link">Need help? Talk to us!</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Úvod
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../installation/">
            
                <a href="../installation/">
            
                    
                    Instalace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../how_the_internet_works/">
            
                <a href="../how_the_internet_works/">
            
                    
                    Jak funguje internet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../intro_to_command_line/">
            
                <a href="../intro_to_command_line/">
            
                    
                    Úvod do příkazové řádky
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../python_installation/">
            
                <a href="../python_installation/">
            
                    
                    Instalace Pythonu
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../code_editor/">
            
                <a href="../code_editor/">
            
                    
                    Editor zdrojového kódu
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../python_introduction/">
            
                <a href="../python_introduction/">
            
                    
                    Úvod do Pythonu
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../django/">
            
                <a href="../django/">
            
                    
                    Co je Django?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../django_installation/">
            
                <a href="../django_installation/">
            
                    
                    Instalace Django
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../django_start_project/">
            
                <a href="../django_start_project/">
            
                    
                    Tvůj první Django projekt!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../django_models/">
            
                <a href="../django_models/">
            
                    
                    Django modely
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../django_admin/">
            
                <a href="../django_admin/">
            
                    
                    Django admin
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.13" data-path="./">
            
                <a href="./">
            
                    
                    Nasazení!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../django_urls/">
            
                <a href="../django_urls/">
            
                    
                    Django URL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../django_views/">
            
                <a href="../django_views/">
            
                    
                    Django views -- je čas začít tvořit!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../html/">
            
                <a href="../html/">
            
                    
                    Úvod do HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../django_orm/">
            
                <a href="../django_orm/">
            
                    
                    Django ORM (tvorba dotazů)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../dynamic_data_in_templates/">
            
                <a href="../dynamic_data_in_templates/">
            
                    
                    Dynamická data v šablonách
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../django_templates/">
            
                <a href="../django_templates/">
            
                    
                    Django šablony
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../css/">
            
                <a href="../css/">
            
                    
                    CSS - udělejte svou aplikaci hezčí
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../template_extending/">
            
                <a href="../template_extending/">
            
                    
                    Rozšíření šablon
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="../extend_your_application/">
            
                <a href="../extend_your_application/">
            
                    
                    Rozšíření vaší aplikace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="../django_forms/">
            
                <a href="../django_forms/">
            
                    
                    Django formuláře
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="../whats_next/">
            
                <a href="../whats_next/">
            
                    
                    Co dál?
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Publikováno pomocí HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
  <div class="sidebar-addition">
      
        <a href="https://www.patreon.com/djangogirls" target="_blank">
      
        <img src="https://djangogirls.org/static/img/global/donate/lagos.jpg" />
      
        </a>
      
      
        <p>💖 Support our work and donate to our project! ✨</p>
      
      
      <a href="https://www.patreon.com/djangogirls" class="btn" target="_blank">
        Donate now!
      </a>
      
  </div>

    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Nasazení!</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="nasazení">Nasazení!</h1>
<blockquote>
<p><strong>Poznámka:</strong> Projít následující kapitolu může být někdy trochu těžké. Vydrž a dokonči to; nasazení je důležitou součástí procesu vývoje webových stránek. Tato kapitola je umístěna uprostřed kurzu, aby ti tvůj kouč mohl pomoci s mírně složitějším procesem nasazení tvého webu online. To znamená, že stále můžeš dokončit kurz později sama, pokud to nestihneš teď.</p>
</blockquote>
<p>Až dosud byly tvoje webové stránky k dispozici pouze ve tvém počítači, nyní se naučíš je nasadit! Nasazení je proces publikování aplikace na internetu, takže si lidé konečně mohou prohlédnout tvou webovou aplikaci :).</p>
<p>Jak jsi se dozvěděla, webové stránky musí být umístěny na serveru. Na internetu existuje mnoho poskytovatelů serverů. My budeme používat jednoho, který má relativně jednoduchý proces nasazení: <a href="https://www.pythonanywhere.com/" target="_blank">PythonAnywhere</a>. PythonAnywhere je zdarma pro malé aplikace, které nemají příliš mnoho návštěvníků, takže to pro tebe bude teď stačit.</p>
<p>Další externí službu, kterou budeme používat, je <a href="https://www.github.com" target="_blank">GitHub</a>, což je hostingová služba pro zdrojové kódy. Na internetu existují i jiné služby, ale téměř všichni programátoři mají účet na GitHubu. Nyní ho budeš mít také!</p>
<p>Budeme používat GitHub jako odrazový můstek k přesunu našeho kódu do a z PythonAnywhere.</p>
<h1 id="git">Git</h1>
<p>Git je &quot;systém pro správu verzí&quot; používaný spoustou programátorů. Tento software může sledovat změny v souborech v průběhu času tak, že konkrétní verze můžeš později znovu zobrazit. Trochu jako funkce &quot;sledování změn&quot; v aplikaci Microsoft Word, ale mnohem mocnější.</p>
<h2 id="instalace-git">Instalace Git</h2>
<blockquote>
<p><strong>Poznámka:</strong> Pokud jsi již prošla instalační kroky, není třeba se k tomu vracet - můžeš přeskočit k další části a začít vytvářet Git repozitář.</p>
</blockquote>
<h3 id="windows">Windows</h3>
<p>Git si můžeš stáhnout z <a href="https://git-scm.com/" target="_blank">git-scm.com</a>. Klikej na &quot;další&quot; ve všech krocích s výjimkou 5. kroku s názvem &quot;Nastavení prostředí PATH&quot;, zvol &quot;Spustit Git a související Unixové nástroje z příkazového řádku systému Windows&quot; (spodní možnost). Ostatní výchozí hodnoty jsou v pořádku. Odškrtni Windows-style konce řádků, pro commit je Unixový styl konce řádků správný.</p>
<h3 id="macos">MacOS</h3>
<p>Stáhni Git z <a href="https://git-scm.com/" target="_blank">git-scm.com</a> a postupuj podle pokynů.</p>
<h3 id="linux">Linux</h3>
<p>Pokud ho již nemáš nainstalovaný, git měl by být k dispozici pomocí Správce balíčků, zkus:</p>
<pre><code>sudo apt install git
# or
sudo yum install git
# or
sudo zypper install git
</code></pre><h2 id="spuštění-git-repositáře">Spuštění Git repositáře</h2>
<p>Git sleduje změny v sadě souborů v takzvaném úložišti kódu/repository (nebo zkráceně &quot;repo&quot;). Založme si jedno repo pro náš projekt. Otevři konzoli a v <code>djangogirls</code> adresáři spusť tyto příkazy:</p>
<blockquote>
<p><strong>Poznámka:</strong> Zkontroluj si svůj aktuální pracovní adresář pomocí <code>pwd</code> (OS x/Linux) nebo příkazem <code>cd</code> (Windows) před inicializací úložiště. Měla bys být ve složce <code>djangogirls</code>.</p>
</blockquote>
<pre><code>$ git init
 Initialized empty Git repository in ~/djangogirls/.git/
$ git config --global user.name &quot;Your Name&quot;
$ git config --global user.email you@example.com
</code></pre><p>Inicializace úložiště git je něco, co musíme udělat jednou za projekt (a nebudeš muset znovu zadávat uživatelské jméno a e-mailovou adresu).</p>
<p>Git bude sledovat změny souborů a složek v tomto adresáři, ale jsou tam některé soubory, které chceme ignorovat. Uděláme to tak, že vytvoříš soubor s názvem <code>.gitignore</code> v základním adresáři. Otevři editor a vytvoř nový soubor s následujícím obsahem:</p>
<pre><code>*.pyc
__pycache__
myvenv
db.sqlite3
.DS_Store
</code></pre><p>A ulož ho jako <code>.gitignore</code> ve složce nejvyšší úrovně &quot;djangogirls&quot;.</p>
<blockquote>
<p><strong>Poznámka:</strong> Tečka na začátku názvu souboru je důležitá! Pokud budeš mít jakékoliv potíže s vytvořením (například Mac nerad vytváří soubory, které začínají tečkou, přes Finder), tak použij funkci &quot;Uložit jako&quot; v editoru, což je neprůstřelné.</p>
</blockquote>
<p>Je vhodné použít příkaz <code>git status</code> před použitím příkazu <code>git add</code>, anebo vždy, když si nejsi jistá, co se změnilo. To pomůže předejít jakýmkoliv překvapením, například přidání nesprávných souborů. Příkaz <code>git status</code> vrátí informace o všech souborech nesledovaných (untracked), upravených (modified) a připravených ke commitu (staged), stav větve a mnoho dalšího. Výstup by měl být podobný tomuto:</p>
<pre><code>$ git status
 On branch master

 No commits yet

Untracked files:
   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
         .gitignore
         blog/
         manage.py
         mysite/

 nothing added to commit but untracked files present (use &quot;git add&quot; to track)
</code></pre><p>A nakonec uložíme naše změny. Přejdi do konzole a spusť tyto příkazy:</p>
<pre><code>$ git add --all .
$ git commit -m &quot;My Django Girls app, first commit&quot;
[...]
13 files changed, 200 insertions(+)
 create mode 100644 .gitignore
[...]
create mode 100644 mysite/wsgi.py
</code></pre><h2 id="přenesení-našeho-kódu-na-github">Přenesení našeho kódu na GitHub</h2>
<p>Přejdi na <a href="https://www.github.com" target="_blank">GitHub.com</a> a zaregistruj si zdarma nový uživatelský účet. (Pokud jsi to již dříve ve workshopu udělala, tak je to skvělé!)</p>
<p>Potom vytvoř nové úložiště, dej mu název &quot;my-first-blog&quot;. Ponech zaškrtávací políčko &quot;initialise with a README&quot; nezaškrtlé, ponechej prázdnou možnost .gitignore (to už jsme udělaly ručně) a ponech licenci jako None.</p>
<p><img src="images/new_github_repo.png" alt></p>
<blockquote>
<p><strong>Poznámka:</strong> Název <code>my-first-blog</code> je důležitý – mohla by sis vybrat něco jiného, ale použijeme ho ještě mnohokrát později a musela bys ho pokaždé nahrazovat. Tak je zatím snazší se držet názvu <code>my-first-blog</code>.</p>
</blockquote>
<p>Na další obrazovce se zobrazí klon URL tvého repo. Zvol verzi &quot;HTTPS&quot;, zkopíruj ji a za chvilku ji použijeme v terminálu:</p>
<p><img src="images/github_get_repo_url_screenshot.png" alt></p>
<p>Teď potřebujeme spojit úložiště Git na tvém počítači s úložištěm na GitHub.</p>
<p>Zadej následující příkaz do konzole (nahraď <code>&lt; your-github-username &gt;</code> uživatelským jménem, které jsi zadala, když jsi vytvořila svůj účet na GitHub, ale bez ostrých závorek):</p>
<pre><code>$ git remote add origin https://github.com/&lt;your-github-username&gt;/my-first-blog.git
$ git push -u origin master
</code></pre><p>Zadej své uživatelské jméno a heslo pro GitHub a měla bys vidět něco takového:</p>
<pre><code>Username for &apos;https://github.com&apos;: hjwp
Password for &apos;https://hjwp@github.com&apos;:
Counting objects: 6, done.
Writing objects: 100% (6/6), 200 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/hjwp/my-first-blog.git
* [new branch] master -&gt; master
Branch master set up to track remote branch master from origin.
</code></pre><!--TODO: maybe do ssh keys installs in install party, and point ppl who dont have it to an extention -->
<p>Tvůj kód je nyní na GitHubu. Můžeš se na něj jít podívat! Zjistíš, že je v dobré společnosti - <a href="https://github.com/django/django" target="_blank">Django</a>, <a href="https://github.com/DjangoGirls/tutorial" target="_blank">Django girls tutorial</a> a mnoha dalších velkých open source software projektů, které také hostí svůj kód na GitHubu :)</p>
<h1 id="vytvoření-našeho-blogu-na-pythonanywhere">Vytvoření našeho blogu na PythonAnywhere</h1>
<blockquote>
<p><strong>Poznámka:</strong> Možná, že jsi vytvořila účet PythonAnywhere již dříve během instalačních kroků - pokud ano, nemusíš to nyní dělat znovu.</p>
</blockquote>
<p>Dále je čas přihlásit se zdarma k účtu &quot;Beginner&quot; na PythonAnywhere.</p>
<ul>
<li><a href="https://www.pythonanywhere.com/" target="_blank">www.pythonanywhere.com</a></li>
</ul>
<blockquote>
<p><strong>Poznámka:</strong> Při výběru svého uživatelského jména měj na paměti, že adresa URL tvého blogu bude mít tvar <code>yourusername.pythonanywhere.com</code>, takže si pro svůj blog zvol vlastní přezdívku nebo jiné jméno.</p>
</blockquote>
<h2 id="natáhnutí-našeho-kódu-na-pythonanywhere">Natáhnutí našeho kódu na PythonAnywhere</h2>
<p>Jakmile se zaregistruješ na PythonAnywhere, budeš přesměrována na dashboard nebo na stránku &quot;Konzole&quot;. Zvol možnost spustit konzoli &quot;Bash&quot; – je to PythonAnywhere verze konzole, stejná jako na tvém počítači.</p>
<blockquote>
<p><strong>Poznámka:</strong> PythonAnywhere je založen na Linuxu, takže pokud jsi na Windows, konzole bude vypadat trochu jinak, než ta, která je na tvém počítači.</p>
</blockquote>
<p>Pojďme natáhnout náš kód z GitHubu na PythonAnywhere vytvořením &quot;klonu&quot; našeho repo. Zadej následující příkaz do konzole na PythonAnywhere (nezapomeň používat GitHub uživatelské jméno namísto <code>&lt;your-github-username&gt;</code>):</p>
<pre><code>    $ git clone https://github.com/&lt;your-github-username&gt;/my-first-blog.git
</code></pre><p>Tento příkaz nahraje kopii tvého kódu na PythonAnywhere. Zkontroluj to zadáním <code>tree my-first-blog</code>:</p>
<pre><code>$ tree my-first-blog
my-first-blog/
├── blog
│   ├── __init__.py
│   ├── admin.py
│   ├── migrations
│   │   ├── 0001_initial.py
│   │   └── __init__.py
│   ├── models.py
│   ├── tests.py
│   └── views.py
├── manage.py
└── mysite
    ├── __init__.py
    ├── settings.py
    ├── urls.py
    └── wsgi.py
</code></pre><h3 id="vytvoření-virtualenv-na-pythonanywhere">Vytvoření virtualenv na PythonAnywhere</h3>
<p>Stejně jako na tvém počítači můžeš na PythonAnywhere vytvořit virtualenv. V Bash konzoli zadej postupně následující příkazy:</p>
<pre><code>$ cd my-first-blog

$ virtualenv --python=python3.4 myvenv
Running virtualenv with interpreter /usr/bin/python3.4
[...]
Installing setuptools, pip...done.

$ source myvenv/bin/activate

(mvenv) $ pip install django whitenoise
Collecting django
[...]
Successfully installed django-1.8.2 whitenoise-2.0
</code></pre><blockquote>
<p><strong>Poznámka:</strong> Krok <code>pip install</code> může trvat několik minut. Trpělivost, trpělivost! Ale pokud to trvá déle než 5 minut, něco není v pořádku. Zeptej se svého kouče.</p>
</blockquote>
<!--TODO: think about using requirements.txt instead of pip install.-->
<h3 id="shromažďování-statických-souborů">Shromažďování statických souborů</h3>
<p>Byla jsi zvědavá, co bylo to &quot;whitenoise&quot; vlastně zač? Je to nástroj pro obsluhu takzvaných &quot;statických souborů&quot;. Statické soubory jsou soubory, které se pravidelně nemění nebo nespouštějí programový kód, například soubory HTML nebo CSS. Na serverech fungují odlišně než na tvém osobním počítači a proto potřebujeme nástroj jako &quot;whitenoise&quot; k jejich obsloužení.</p>
<p>O statických souborech zjistíme trochu více později v tomto kurzu, až budeme upravovat CSS pro naše stránky.</p>
<p>Nyní jen musíme spustit další příkaz na serveru s názvem <code>collectstatic</code>. Ten řekne Djangu, aby posbíral všechny statické soubory, které potřebuje na serveru. V současnosti jsou to hlavně soubory, které upravují vzhled admin stránky.</p>
<pre><code>(mvenv) $ python manage.py collectstatic

You have requested to collect static files at the destination
location as specified in your settings:
     /home/edith/my-first-blog/static

This will overwrite existing files!
Are you sure you want to do this?

Type &apos;yes&apos; to continue, or &apos;no&apos; to cancel: yes
</code></pre><p>Zadej &quot;yes&quot; a pokračujeme! Také máš ráda, když ti počítač začne vypisovat ty dlouhé stránky kódu? Já jsem to vždy doprovázela tichými zvuky. Brp, brp, brp...</p>
<pre><code>Copying &apos;/home/edith/my-first-blog/mvenv/lib/python3.4/site-packages/django/contrib/admin/static/admin/js/actions.min.js&apos; Copying &apos;/home/edith/my-first-blog/mvenv/lib/python3.4/site-packages/django/contrib/admin/static/admin/js/inlines.min.js&apos; [...] Copying &apos;/home/edith/my-first-blog/mvenv/lib/python3.4/site-packages/django/contrib/admin/static/admin/css/changelists.css&apos; Copying &apos;/home/edith/my-first-blog/mvenv/lib/python3.4/site-packages/django/contrib/admin/static/admin/css/base.css&apos; 62 static files copied to &apos;/home/edith/my-first-blog/static&apos;.
</code></pre><h3 id="vytvoření-databáze-na-pythonanywhere">Vytvoření databáze na PythonAnywhere</h3>
<p>Zde je další věc, která se liší mezi tvým počítačem a serverem: server používá jinou databázi. Takže uživatelské účty a příspěvky mohou být jiné na serveru a na tvém počítači.</p>
<p>Můžeme inicializovat databázi na serveru, stejně jako jsi to udělala v počítači, pomocí příkazů <code>migrate</code> a <code>createsuperuser</code>:</p>
<pre><code>(mvenv) $ python manage.py migrate
Operations to perform:
[...]
   Applying sessions.0001_initial... OK


(mvenv) $ python manage.py createsuperuser
</code></pre><h2 id="publikování-našeho-blogu-jako-webové-aplikace">Publikování našeho blogu jako webové aplikace</h2>
<p>Nyní je náš kód na PythonAnywhere a náš virtualenv je připraven, statické soubory jsou shromážděny a databáze inicializována. Jsme připraveni zveřejnit blog jako webovou aplikaci!</p>
<p>Běž zpět na dashboard PythonAnywhere kliknutím na logo a poté klikni na kartu <strong>Web</strong>. Nakonec klikni na <strong>Add a new web app</strong>.</p>
<p>Po potvrzení tvého názvu domény zvol <strong>manual configuration</strong> (NB <em>není</em> &quot;Django&quot; volba) v dialogovém okně. Dále zvol <strong>Python 3.4</strong> a klepni na tlačítko Next pro dokončení průvodce.</p>
<blockquote>
<p><strong>Poznámka:</strong> Ujisti se, že volíš možnost &quot;Manual configuration&quot;, nikoliv &quot;Django&quot;. Jsme příliš cool na to, abychom používali výchozí nastavení PythonAnywhere Django ;-)</p>
</blockquote>
<h3 id="nastavení-virtualenv">Nastavení virtualenv</h3>
<p>Budeš přesměrována na PythonAnywhere konfigurační obrazovku pro tvou webovou aplikaci, sem budeš muset jít pokaždé, když budeš chtít provést změny aplikace na serveru.</p>
<p><img src="images/pythonanywhere_web_tab_virtualenv.png" alt></p>
<p>V části &quot;Virtualenv&quot; klepni na červený text, který říká &quot;Enter the path to a virtualenv&quot; a zadej: <code>/home/ &lt;your-username&gt;/my-first-blog/myvenv/</code>. Klikni na modré zaškrtávací políčko, čímž uložíš cestu předtím, než budeš pokračovat.</p>
<blockquote>
<p><strong>Poznámka:</strong> Nahraď své vlastní uživatelské jméno podle potřeby. Pokud uděláš chybu, PythonAnywhere Ti zobrazí malé varování.</p>
</blockquote>
<h3 id="konfigurace-souboru-wsgi">Konfigurace souboru WSGI</h3>
<p>Django používá &quot;WSGI protokol&quot;, standard pro obsluhu webových stránek pomocí Pythonu, který PythonAnywhere podporuje. Aby PythonAnywhere poznal a mohl používat náš Django blog, upravme WSGI konfigurační soubor.</p>
<p>Klikni na odkaz &quot;WSGI configuration file&quot; (v sekci &quot;Code&quot; v horní části stránky – bude pojmenována nějak takto <code>/var/www/&lt;your-username&gt;_pythonanywhere_com_wsgi.py</code>) a budeš přesměrována do editoru.</p>
<p>Odstraň veškerý obsah a nahraď jej upraveným následujícím kódem:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> sys

path = <span class="hljs-string">&apos;/home/&lt;your-username&gt;/my-first-blog&apos;</span> <span class="hljs-comment"># use your own username here</span>
<span class="hljs-keyword">if</span> path <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> sys.path:
     sys.path.append(path)

os.environ[<span class="hljs-string">&apos;DJANGO_SETTINGS_MODULE&apos;</span>] = <span class="hljs-string">&apos;mysite.settings&apos;</span>

<span class="hljs-keyword">from</span> django.core.wsgi <span class="hljs-keyword">import</span> get_wsgi_application
<span class="hljs-keyword">from</span> whitenoise.django <span class="hljs-keyword">import</span> DjangoWhiteNoise
application = DjangoWhiteNoise(get_wsgi_application())
</code></pre>
<blockquote>
<p><strong>Poznámka:</strong> Nezapomeň nahradit své vlastní uživatelské jméno za <code>&lt;your-username&gt;</code></p>
</blockquote>
<p>Úkolem tohoto souboru je říct PythonAnywhere, kde je naše webová aplikace a jaký je název souboru nastavení Djanga. Také nastavuje nástroj pro statické soubory &quot;whitenoise&quot;.</p>
<p>Klikni na <strong>Save</strong> a přejdi zpět na kartu <strong>Web</strong>.</p>
<p>Zvládly jsme to! Klikni na velké zelené tlačítko <strong>Reload</strong>, čímž zobrazíš svou aplikaci. Odkaz na to najdeš v horní části stránky.</p>
<h2 id="ladící-tipy">Ladící tipy</h2>
<p>Pokud se ti zobrazí chyba při pokusu zobrazit web, první místo, kam se podívat na nějaké informace o ladění, je v <strong>error log</strong>. Odkaz na něj najdeš na PythonAnywhere v <a href="https://www.pythonanywhere.com/web_app_setup/" target="_blank">kartě Web</a>. Zkontroluj, jestli tam nejsou nějaké chybové zprávy; nejnovější záznamy jsou na konci. Mezi běžné problémy patří:</p>
<ul>
<li><p>Často zapomínané kroky jsou ty, které jsme dělaly v konzoly: vytvoření virtualenv, aktivace, instalace Djanga, spuštění collectstatic, přenesení databáze.</p>
</li>
<li><p>Chyba k cestě virtualenv na kartě Web – bude obvykle označená malou červenou zprávou na stejném místě.</p>
</li>
<li><p>Chyba v konfiguračním souboru WSGI – máš cestu do složky my-first-blog v pořádku?</p>
</li>
<li><p>Vybrala jsi stejnou verzi Pythonu pro svůj virtualenv stejně jako pro svoji webovou aplikaci? Obe verze by měly být 3.4.</p>
</li>
<li><p>Existují některé <a href="https://www.pythonanywhere.com/wiki/DebuggingImportError" target="_blank">obecné tipy ladění na PythonAnywhere wiki</a>.</p>
</li>
</ul>
<p>A pamatuj si, že tvůj kouč je tady, aby ti pomohl!</p>
<h1 id="jsme-online">Jsme online!</h1>
<p>Výchozí stránka tvé webové aplikace by měla ukázat &quot;Welcome to Django&quot;, stejně jako to dělá na tvém počítači. Zkus přidat <code>/admin/</code> na konec adresy URL a budeš přesměrována na admin stránku. Přihlas se pomocí uživatelského jména a hesla a uvidíš, že můžeš přidávat nové příspěvky na server.</p>
<p>Poplácej sama sebe <em>po zádech</em>! Nasazení serveru je jednou z nejsložitější částí vývoje webových aplikací a trvá lidem často i několik dní, než je funkční. Ale ty máš své stránky online na internetu už teď!</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../django_admin/" class="navigation navigation-prev " aria-label="Previous page: Django admin">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../django_urls/" class="navigation navigation-next " aria-label="Next page: Django URL">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Nasazení!","level":"1.13","depth":1,"next":{"title":"Django URL","level":"1.14","depth":1,"path":"django_urls/README.md","ref":"django_urls/README.md","articles":[]},"previous":{"title":"Django admin","level":"1.12","depth":1,"path":"django_admin/README.md","ref":"django_admin/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["heading-anchors@1.0.3","ga@1.0.1","richquotes@0.0.9","github@2.0.0","language-picker","sidebar-ad","codeblock-label","sectionx-ex","collapsible-menu"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"collapsible-menu":{},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/DjangoGirls/tutorial"},"codeblock-label":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sectionx-ex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{"default":false},"sectionx":{"tag":"b"},"heading-anchors":{},"sidebar-ad":{"imageUrl":"https://djangogirls.org/static/img/global/donate/lagos.jpg","url":"https://www.patreon.com/djangogirls","description":"💖 Support our work and donate to our project! ✨","btnText":"Donate now!"},"highlight":{},"ga":{"configuration":"auto","token":"UA-51680040-3"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"py_version":"3.8","py_release":"3.8.6","py_min_version":"3.6","py_min_release":"3.6.8","pa_py_version":"3.8","django_version":"3.2.10"},"language":"cs","links":{"sidebar":{"Need help? Talk to us!":"https://gitter.im/DjangoGirls/tutorial"}},"gitbook":"*"},"file":{"path":"deploy/README.md","mtime":"2022-11-25T15:12:59.827Z","type":"markdown"},"gitbook":{"version":"3.7.5","time":"2022-11-25T15:13:18.368Z"},"basePath":"..","book":{"language":"cs"}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sectionx-ex/sectionx.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

